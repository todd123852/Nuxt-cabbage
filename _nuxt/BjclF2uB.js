import{d as A,ab as B,r as i,a as _,K as P,y as d,A as t,e as r,f as w,I as x,a7 as k,E as n,v as y,J as b,F as E,B as M,ak as F,z as p,M as I,G as N,ae as O,_ as R}from"#entry";import{E as j}from"./DGLa76wj.js";import{s as m}from"./BgUjC9Yu.js";const $={class:"loginRegistPage"},D={action:"#",method:"post",class:"formContent"},J={class:"input_place"},U={class:"input_alert"},z={class:"input_place"},G={class:"input_alert"},H={class:"loginSelect"},K={class:"contactTryPlay"},q=["onClick"],Q=A({__name:"regist",setup(W){const l=B(),a=i(""),o=i(""),g=i(!1),v=i(!1),T=_(()=>g.value?l.checkAcc(a.value):{type:0,isLegal:!0}),C=_(()=>v.value?l.checkPaw(o.value):{isLegal:!0}),u=i(!1);async function S(){if(l.checkAcc(a.value)&&l.checkPaw(o.value)){u.value=!0;const f={username:a.value,password:o.value};try{const e=await fetch("https://hmajax.itheima.net/api/register",{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(f)}),c=await e.json();if(!e.ok)throw new Error(c.message);l.loginSucess(a.value),m({message:"注册成功",icon:"checked"}),O("/")}catch(e){m({message:e.message,icon:"clear"})}finally{u.value=!1}}}const V=P([{text:"联系客服",action:()=>window.open("https://t.me/mmisharkk","_blank","noopener,noreferrer")},{text:"免费试玩",action:()=>m({message:"功能维护中",icon:"warning"})}]);return(f,e)=>{const c=I,h=j,L=F;return p(),d("div",$,[t("main",null,[t("form",D,[e[6]||(e[6]=t("p",{class:"loginTypeText"},"支持邮箱/账号注册",-1)),t("div",J,[r(h,{modelValue:n(a),"onUpdate:modelValue":e[0]||(e[0]=s=>k(a)?a.value=s:null),placeholder:"请输入邮箱/账号",minlength:4,maxlength:16,clearable:"",onFocusOnce:e[1]||(e[1]=s=>g.value=!0)},{prefix:x(()=>[r(c,{name:"contact"})]),_:1},8,["modelValue"]),w(t("p",U,[...e[4]||(e[4]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-exclamation-circle-fill",viewBox:"0 0 16 16"},[t("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4m.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2"})],-1),b(" 请输入邮箱/帐号 ",-1)])],512),[[y,!n(T).isLegal]])]),t("div",z,[r(h,{modelValue:n(o),"onUpdate:modelValue":e[2]||(e[2]=s=>k(o)?o.value=s:null),placeholder:"请输入密码",maxlength:16,clearable:"",onFocusOnce:e[3]||(e[3]=s=>v.value=!0)},{prefix:x(()=>[r(c,{name:"lock"})]),_:1},8,["modelValue"]),w(t("p",G,[...e[5]||(e[5]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-exclamation-circle-fill",viewBox:"0 0 16 16"},[t("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4m.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2"})],-1),b(" 8-16位, 英文/数字/符号 ",-1)])],512),[[y,!n(C).isLegal]])])]),r(L,{loading:n(u),text:"注册",type:"primary",onClick:S},null,8,["loading"]),t("div",H,[t("div",K,[(p(!0),d(E,null,M(n(V),s=>(p(),d("span",{key:s.text,onClick:s.action},N(s.text),9,q))),128))]),e[7]||(e[7]=t("div",{class:"thirdPartyLogin"},[t("span",null,"绑定注册")],-1))])])])}}}),ee=R(Q,[["__scopeId","data-v-418ae4b5"]]);export{ee as default};
